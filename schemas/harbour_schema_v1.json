{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://harbourmaster.ai/schemas/harbour_schema_v1.json",
  "title": "Harbour Master Record Schema",
  "description": "Schema for harbour/anchorage master records",
  "version": "1.0",
  "type": "object",
  "additionalProperties": false,
  "required": ["name", "region", "harbour_type", "coordinates"],
  "properties": {
    "name": {
      "type": "string",
      "minLength": 2,
      "maxLength": 100,
      "description": "Official harbour name"
    },
    "region": {
      "type": "string",
      "minLength": 2,
      "maxLength": 100,
      "description": "Geographic region (e.g., 'Ionian', 'Ithaca', 'Lefkada')"
    },
    "harbour_type": {
      "type": "string",
      "enum": ["harbour", "anchorage", "bay", "marina"],
      "description": "Type of mooring location"
    },
    "coordinates": {
      "type": "object",
      "required": ["lat", "lng"],
      "properties": {
        "lat": {
          "type": "number",
          "minimum": -90,
          "maximum": 90
        },
        "lng": {
          "type": "number",
          "minimum": -180,
          "maximum": 180
        }
      },
      "additionalProperties": false
    },
    "description": {
      "type": "string",
      "maxLength": 1000,
      "description": "Brief overview of the harbour"
    },
    "facilities": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["water", "fuel", "electricity", "wifi", "showers", "restaurant", "provisions", "chandlery", "laundry", "repair"]
      },
      "uniqueItems": true
    },
    "capacity": {
      "type": "integer",
      "minimum": 0,
      "description": "Approximate number of berths"
    },
    "depth_range": {
      "type": "string",
      "pattern": "^\\d+(\\.\\d+)?-\\d+(\\.\\d+)?m$",
      "description": "Depth range in meters (e.g., '3-8m')"
    },
    "notes": {
      "type": ["string", "null"],
      "maxLength": 500
    }
  }
}
